# 实验5：图书管理系统数据库设计与界面设计
|    学号  |   班级    |    姓名  |   照片     |
|:--------:|:--------: | :----------: | :-------:|
|201510414416|软件(本)15-4|王召亮 |![](./01.jpg '666')|

## 1.数据库表设计

## 1.1. 图书表
|字段|类型|主键，外键|可以为空|默认值|约束|说明|
|:-------:|:-------------:|:------:|:----:|:---:|:----:|:-----|
|ISBN|varchar2(100)|主键|否||||
|bookName|varchar2(100)| |否|||书名|
|sum|int(12)| |是|||图书总量|
|stock|int(12)| |是|||库存量|
|price|double(12)| |是||||
|publisher|varchar2(100)| |是|||出版社信息|
|writer|varchar2(12)| |是|||作者|
|introduction|varchar2(100)| |是|||图书简介|

## 1.2. 借书记录表
|字段|类型|主键，外键|可以为空|默认值|约束|说明|
|:-------:|:-------------:|:------:|:----:|:---:|:----:|:-----|
|ISBN|varchar2(100)|主键|否||||
|readerName|varchar2(100)| |否|||读者姓名|
|borrowDate|datetime(100)| |否|||借书日期|
|returnDate|datetime(100)| |否|||归还日期|

## 1.3. 读者表
|字段|类型|主键，外键|可以为空|默认值|约束|说明|
|:-------:|:-------------:|:------:|:----:|:---:|:----:|:-----|
|borrowNum|varchar2(100)|主键|否|||借书卡号|
|readerName|varchar2(12)| |否||||
|idNum|varchar2(25)| |否|||身份证号|
|sex|varchar2(4)| |否|||性别|
|bookQuota|int(12)| |是|||图书限额|
|toBorrowBooks|int(12)| |是|||已借图书数|
|password|varchar2(100)| |否||||

## 1.4. 图书管理员表
|字段|类型|主键，外键|可以为空|默认值|约束|说明|
|:-------:|:-------------:|:------:|:----:|:---:|:----:|:-----|
|staffNum|varchar2(100)|主键|否|||职工号|
|admin|varchar2(12)| |否||||
|password|varchar2(100)| |否||||


***

## 2. 界面设计
## 2.1. 查找图书界面设计
![](./queryBook.png '查找图书界面')

- 用例图参见：查找图书用例
- 类图参见：查找图书类，图书类
- 顺序图参见：查找图书顺序图
- API接口如下：


1.按ISBN进行查找图书

- 功能：用于获取全部分类
- 请求地址： http://127.0.0.1:32767/start.html#p=querybook&g=1
- 请求方法：POST
- 请求参数：ISBN(String)

|参数名称|必填|说明|
|:-------:|:-------------: | :----------:|
|ISBN|是|用于查找图书的关键性信息 |
|publisher|否|出版社|
|writer|否|作者|
|method|是|固定为 “GET”。|

- 返回实例：
<pre>
{
    "code": 200,
    "data": {
            "ISBN": "978-7-302-32982-4",
            "publisher": "清华大学出版社",
            "writer": "王晓敏 邝孔武",
     },
    "msg": "查找成功"
}
</pre>
- 返回参数说明：
    
|参数名称|说明|
|:-------:|:-------------: |
|code|返回码|
|data|查找图书的反馈信息|
|msg|请求响应结果|



2.按bookName进行查找图书

- 功能：用于获取全部分类
- 请求地址： http://127.0.0.1:32767/start.html#p=querybook&g=1
- 请求方法：POST
- 请求参数：bookName(String)

|参数名称|必填|说明|
|:-------:|:-------------: | :----------:|
|bookName|是|书名|
|publisher|否|出版社|
|writer|否|作者|
|method|是|固定为 “GET”。|

- 返回实例：
<pre>
{
    "code": 200,
    "data": {
            "bookName": "信息系统分析与设计",
            "publisher": "清华大学出版社",
            "writer": "王晓敏 邝孔武",
     },
    "msg": "查找成功"
}
</pre>
- 返回参数说明：
    
|参数名称|说明|
|:-------:|:-------------: |
|code|返回码|
|data|查找图书的反馈信息|
|msg|请求响应结果|

***